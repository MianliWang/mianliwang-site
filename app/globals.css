@import "tailwindcss";

:root {
  --background: #f8f5ee;
  --foreground: #1b1e1d;
  --muted: #5f645d;
  --surface-level-0: #fdfbf6;
  --surface-level-1: #f4f0e8;
  --surface-level-2: #ebe4d7;
  --surface: var(--surface-level-0);
  --surface-2: var(--surface-level-1);
  --surface-3: var(--surface-level-2);
  --surface-border: #d5cebf;
  --surface-border-strong: #c8c0ad;
  --accent: #2a6f67;
  --focus: var(--accent);
  --radius-card: 1.15rem;
  --radius-control: 999px;
  --radius-soft: 0.82rem;
  --content-max: 76rem;
  --reading-max: 66ch;
  --section-space: clamp(3.1rem, 7vw, 6.4rem);
  --section-space-tight: clamp(2rem, 5vw, 3.2rem);
  --container-inline: clamp(1rem, 3.2vw, 2.2rem);
  --type-size-body: clamp(1rem, 0.97rem + 0.18vw, 1.08rem);
  --type-size-lead: clamp(1.08rem, 1.01rem + 0.36vw, 1.3rem);
  --type-size-display: clamp(2.45rem, 4.7vw, 4.45rem);
  --type-size-section: clamp(1.52rem, 2vw, 2rem);
  --type-size-card: clamp(1rem, 0.93rem + 0.2vw, 1.1rem);
  --type-size-meta: 0.74rem;
  --type-line-body: 1.72;
  --type-line-tight: 1.16;
  --type-line-loose: 1.8;
  --type-weight-regular: 470;
  --type-weight-medium: 560;
  --type-weight-semibold: 620;
  --surface-inset-light: inset 0 1px 0 rgb(255 255 255 / 0.26);
  --surface-shadow-rest: 0 2px 10px rgb(0 0 0 / 0.04);
  --surface-shadow-hover: 0 14px 28px rgb(0 0 0 / 0.12);
  --focus-ring:
    0 0 0 2px color-mix(in oklab, var(--accent) 76%, transparent 24%),
    0 0 0 5px color-mix(in oklab, var(--background) 84%, transparent 16%);
  --motion-duration-micro: 170ms;
  --motion-duration-fast: 220ms;
  --motion-duration-base: 280ms;
  --motion-duration-slow: 360ms;
  --motion-delay-follow: 54ms;
  --motion-ease-standard: cubic-bezier(0.2, 0.78, 0.2, 1);
  --motion-ease-soft: cubic-bezier(0.26, 0.66, 0.18, 1);
  --motion-ease-spring: cubic-bezier(0.22, 1, 0.36, 1);
  --motion-scale-hover: 1.006;
  --motion-scale-press: 0.992;
  --motion-lift-control: -1px;
  --motion-lift-card: -2px;
  --motion-shadow-hover: 0 12px 24px rgb(0 0 0 / 0.11);
  --theme-transition-duration: 320ms;
  --starfield-density: 0.000055;
  --starfield-brightness: 0.46;
  --starfield-speed: 1;
  --starfield-twinkle: 0.18;
  --starfield-pointer-radius: 186;
  --starfield-pointer-boost: 0.24;
  --starfield-layer-alpha: 0.28;
  --starfield-rgb: 52 68 68;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-surface: var(--surface);
  --color-surface-2: var(--surface-2);
  --color-surface-3: var(--surface-3);
  --color-surface-border: var(--surface-border);
  --color-accent: var(--accent);
  --color-focus: var(--focus);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

.dark {
  --background: #131a1b;
  --foreground: #edf0ea;
  --muted: #aeb6ac;
  --surface-level-0: #1d2526;
  --surface-level-1: #222b2c;
  --surface-level-2: #2a3435;
  --surface: var(--surface-level-0);
  --surface-2: var(--surface-level-1);
  --surface-3: var(--surface-level-2);
  --surface-border: #3c4748;
  --surface-border-strong: #4a5556;
  --accent: #7ed3c8;
  --focus: #7ed3c8;
  --surface-inset-light: inset 0 1px 0 rgb(255 255 255 / 0.12);
  --surface-shadow-rest: 0 2px 12px rgb(0 0 0 / 0.22);
  --surface-shadow-hover: 0 14px 30px rgb(0 0 0 / 0.38);
  --starfield-density: 0.00006;
  --starfield-brightness: 0.68;
  --starfield-twinkle: 0.22;
  --starfield-pointer-radius: 196;
  --starfield-pointer-boost: 0.3;
  --starfield-layer-alpha: 0.46;
  --starfield-rgb: 208 226 221;
}

html,
body {
  min-height: 100%;
}

body {
  position: relative;
  isolation: isolate;
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), sans-serif;
  font-size: var(--type-size-body);
  line-height: var(--type-line-body);
  font-weight: var(--type-weight-regular);
  text-rendering: optimizeLegibility;
}

a {
  color: inherit;
  text-decoration: none;
}

::selection {
  background: color-mix(in oklab, var(--accent) 30%, transparent 70%);
}

.site-chrome {
  position: relative;
  z-index: 1;
}

.site-main {
  margin-inline: auto;
  width: 100%;
  max-width: var(--content-max);
  padding-inline: var(--container-inline);
  padding-bottom: clamp(3.4rem, 8vw, 6.4rem);
  padding-top: clamp(2.1rem, 5vw, 3.3rem);
  opacity: 1;
  transform: translate3d(0, 0, 0);
  transition:
    opacity var(--motion-duration-base) var(--motion-ease-soft),
    transform var(--motion-duration-base) var(--motion-ease-soft);
}

html.locale-switching .site-main {
  opacity: 0.84;
  transform: translate3d(0, 2px, 0);
}

html.theme-transitioning body,
html.theme-transitioning .site-header,
html.theme-transitioning .site-main,
html.theme-transitioning .ui-control,
html.theme-transitioning .ui-toggle-group,
html.theme-transitioning .ui-segmented,
html.theme-transitioning .ui-segmented-pill,
html.theme-transitioning .ui-segmented-item,
html.theme-transitioning .ui-card,
html.theme-transitioning .ui-field,
html.theme-transitioning .reading-hud-progress,
html.theme-transitioning .reading-hud-progress-fill,
html.theme-transitioning .reading-hud-marker-rail,
html.theme-transitioning .reading-hud-marker-dot {
  transition-property: color, background-color, border-color, box-shadow, fill, stroke;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--motion-ease-soft);
}

.page-stack {
  display: grid;
  gap: var(--section-space);
}

.section-shell {
  display: grid;
  gap: 1.15rem;
}

.section-shell + .section-shell {
  border-top: 1px solid color-mix(in oklab, var(--surface-border) 74%, transparent 26%);
  padding-top: var(--section-space-tight);
}

.section-header {
  display: grid;
  gap: 0.7rem;
}

.t-eyebrow {
  font-size: var(--type-size-meta);
  font-weight: var(--type-weight-medium);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
}

.t-display {
  max-width: 18.5ch;
  font-size: var(--type-size-display);
  font-weight: 650;
  line-height: 1.04;
  letter-spacing: -0.03em;
}

.t-lead {
  max-width: var(--reading-max);
  font-size: var(--type-size-lead);
  line-height: var(--type-line-loose);
  color: var(--muted);
}

.t-section-title {
  font-size: var(--type-size-section);
  font-weight: var(--type-weight-semibold);
  letter-spacing: -0.02em;
  line-height: var(--type-line-tight);
}

.t-section-subtitle {
  max-width: var(--reading-max);
  font-size: clamp(0.98rem, 0.96rem + 0.15vw, 1.05rem);
  line-height: var(--type-line-body);
  color: var(--muted);
}

.t-card-title {
  font-size: var(--type-size-card);
  font-weight: var(--type-weight-semibold);
  line-height: 1.3;
  letter-spacing: -0.01em;
}

.t-card-copy {
  font-size: 0.93rem;
  line-height: var(--type-line-body);
  color: var(--muted);
}

.t-card-meta {
  font-size: var(--type-size-meta);
  font-weight: var(--type-weight-medium);
  line-height: 1.35;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: color-mix(in oklab, var(--muted) 88%, transparent 12%);
}

.home-hero {
  display: grid;
  gap: clamp(1.35rem, 2vw, 1.8rem);
  padding-top: 0.25rem;
}

.home-hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.72rem;
}

.home-signal-grid {
  display: grid;
  gap: 0.72rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.home-signal-card {
  display: grid;
  gap: 0.56rem;
  border-radius: calc(var(--radius-card) - 0.1rem);
  border: 1px solid color-mix(in oklab, var(--surface-border) 84%, transparent 16%);
  background: color-mix(in oklab, var(--surface-level-0) 90%, transparent 10%);
  padding: 0.86rem 0.92rem;
}

.home-signal-icon {
  display: inline-flex;
  height: 1.9rem;
  width: 1.9rem;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-soft);
  border: 1px solid color-mix(in oklab, var(--surface-border) 80%, transparent 20%);
  background: color-mix(in oklab, var(--surface-level-1) 88%, transparent 12%);
  color: var(--accent);
}

.home-signal-title {
  font-size: 0.83rem;
  font-weight: var(--type-weight-semibold);
  line-height: 1.35;
}

.home-signal-copy {
  font-size: 0.81rem;
  line-height: 1.55;
  color: var(--muted);
}

.home-preview-grid {
  display: grid;
  gap: 1rem;
}

.home-preview-card {
  display: grid;
  gap: 0.94rem;
  padding: 1.2rem;
}

.home-preview-icon {
  display: inline-flex;
  height: 2.45rem;
  width: 2.45rem;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-soft);
  border: 1px solid color-mix(in oklab, var(--surface-border) 82%, transparent 18%);
  background: color-mix(in oklab, var(--surface-level-1) 90%, transparent 10%);
  color: var(--accent);
}

.toolbox-workbench {
  display: grid;
  gap: 1rem;
  align-items: start;
}

.toolbox-sidebar {
  display: grid;
  gap: 0.95rem;
  padding: 1rem;
}

.toolbox-sidebar-header {
  display: grid;
  gap: 0.45rem;
}

.toolbox-sidebar-title {
  font-size: 1.06rem;
  font-weight: var(--type-weight-semibold);
  line-height: 1.3;
  letter-spacing: -0.01em;
}

.toolbox-sidebar-copy {
  font-size: 0.9rem;
  line-height: 1.55;
  color: var(--muted);
}

.toolbox-search-wrap {
  position: relative;
  display: block;
}

.toolbox-search-icon {
  position: absolute;
  left: 0.6rem;
  top: 50%;
  z-index: 1;
  transform: translateY(-50%);
  color: var(--muted);
}

.toolbox-nav-groups {
  display: grid;
  gap: 0.72rem;
}

.toolbox-nav-group {
  display: grid;
  gap: 0.45rem;
}

.toolbox-nav-category {
  font-size: 0.69rem;
  font-weight: var(--type-weight-medium);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--muted);
}

.toolbox-nav-list {
  display: grid;
  gap: 0.38rem;
}

.toolbox-nav-item {
  width: 100%;
  justify-content: flex-start;
  gap: 0.62rem;
  height: auto;
  min-height: 2.92rem;
  border-radius: var(--radius-soft);
  padding: 0.52rem 0.62rem;
  text-align: left;
}

.toolbox-nav-item[data-active="true"] {
  color: var(--foreground);
  border-color: color-mix(in oklab, var(--accent) 38%, var(--surface-border) 62%);
  background: color-mix(in oklab, var(--surface-level-1) 86%, transparent 14%);
}

.toolbox-nav-icon {
  display: inline-flex;
  height: 1.85rem;
  width: 1.85rem;
  align-items: center;
  justify-content: center;
  border-radius: calc(var(--radius-soft) - 0.15rem);
  border: 1px solid color-mix(in oklab, var(--surface-border) 84%, transparent 16%);
  background: color-mix(in oklab, var(--surface-level-1) 87%, transparent 13%);
  color: var(--accent);
}

.toolbox-nav-text {
  display: grid;
  gap: 0.18rem;
}

.toolbox-nav-title {
  font-size: 0.82rem;
  font-weight: var(--type-weight-semibold);
  line-height: 1.28;
}

.toolbox-nav-desc {
  font-size: 0.72rem;
  line-height: 1.38;
  color: var(--muted);
}

.toolbox-empty {
  font-size: 0.82rem;
  color: var(--muted);
}

.toolbox-main-panel {
  min-width: 0;
}

.toolbox-tool-shell {
  display: grid;
  gap: 0.9rem;
}

.toolbox-tool-header {
  display: grid;
  gap: 0.48rem;
}

.toolbox-panel-grid {
  display: grid;
  gap: 0.82rem;
}

.toolbox-pane {
  display: grid;
  gap: 0.72rem;
  padding: 1rem;
}

.toolbox-pane-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.62rem;
}

.toolbox-badge {
  border-radius: var(--radius-control);
  border: 1px solid color-mix(in oklab, var(--accent) 34%, transparent 66%);
  background: color-mix(in oklab, var(--accent) 14%, transparent 86%);
  padding: 0.16rem 0.5rem;
  font-size: 0.66rem;
  font-weight: var(--type-weight-medium);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--accent);
}

.toolbox-inline-groups {
  display: flex;
  flex-wrap: wrap;
  gap: 0.55rem;
}

.toolbox-file-input-wrap {
  display: grid;
  gap: 0.42rem;
}

.toolbox-hint {
  font-size: 0.76rem;
  line-height: 1.5;
  color: var(--muted);
}

.toolbox-select-grid {
  display: grid;
  gap: 0.58rem;
}

.toolbox-select-field {
  display: grid;
  gap: 0.32rem;
}

.toolbox-select-field > span {
  font-size: 0.72rem;
  font-weight: var(--type-weight-medium);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--muted);
}

.toolbox-option-list {
  display: grid;
  gap: 0.42rem;
}

.toolbox-option-item {
  display: inline-flex;
  align-items: center;
  gap: 0.52rem;
  font-size: 0.82rem;
  line-height: 1.4;
  color: var(--foreground);
}

.toolbox-option-item input[type="checkbox"] {
  accent-color: var(--accent);
}

.toolbox-action-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.52rem;
}

.toolbox-error {
  border-radius: var(--radius-soft);
  border: 1px solid color-mix(in oklab, #b65757 42%, transparent 58%);
  background: color-mix(in oklab, #b65757 12%, transparent 88%);
  padding: 0.46rem 0.58rem;
  font-size: 0.79rem;
  line-height: 1.5;
  color: color-mix(in oklab, #b65757 86%, var(--foreground) 14%);
}

@media (max-width: 920px) {
  .home-signal-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 620px) {
  .home-signal-grid {
    grid-template-columns: minmax(0, 1fr);
  }
}

@media (min-width: 960px) {
  .toolbox-workbench {
    grid-template-columns: minmax(228px, 284px) minmax(0, 1fr);
  }

  .toolbox-sidebar {
    position: sticky;
    top: calc(5.2rem + env(safe-area-inset-top, 0px));
  }
}

@media (min-width: 1180px) {
  .toolbox-panel-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.ui-control {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  display: inline-flex;
  height: 2.34rem;
  align-items: center;
  justify-content: center;
  gap: 0.44rem;
  border-radius: var(--radius-control);
  border: 1px solid color-mix(in oklab, var(--surface-border) 87%, transparent 13%);
  padding-inline: 0.88rem;
  background: color-mix(in oklab, var(--surface-level-0) 91%, transparent 9%);
  color: var(--foreground);
  font-size: 0.8rem;
  font-weight: var(--type-weight-medium);
  letter-spacing: 0.01em;
  line-height: 1;
  box-shadow: var(--surface-inset-light), var(--surface-shadow-rest);
  transition:
    transform var(--motion-duration-fast) var(--motion-ease-spring),
    border-color var(--motion-duration-base) ease,
    background-color var(--motion-duration-base) ease,
    color var(--motion-duration-micro) ease,
    box-shadow var(--motion-duration-base) ease;
}

.ui-control::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(
    128deg,
    rgb(255 255 255 / 0.24) 0%,
    rgb(255 255 255 / 0.06) 38%,
    transparent 72%
  );
  opacity: 0;
  transition: opacity var(--motion-duration-base) var(--motion-ease-standard);
}

.dark .ui-control::after {
  background: linear-gradient(
    128deg,
    rgb(255 255 255 / 0.18) 0%,
    rgb(255 255 255 / 0.04) 38%,
    transparent 72%
  );
}

.ui-control:hover {
  transform: translate3d(0, var(--motion-lift-control), 0) scale(var(--motion-scale-hover));
  border-color: color-mix(in oklab, var(--accent) 38%, var(--surface-border) 62%);
  background: color-mix(in oklab, var(--surface-level-1) 84%, var(--surface-level-0) 16%);
  box-shadow: var(--surface-inset-light), var(--surface-shadow-hover);
}

.ui-control:hover::after {
  opacity: 1;
}

.ui-control:active {
  transform: scale(var(--motion-scale-press));
}

.ui-control:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.ui-control:disabled {
  cursor: not-allowed;
  opacity: 0.6;
  transform: none;
}

.ui-control-primary {
  background: color-mix(in oklab, var(--accent) 88%, black 12%);
  border-color: color-mix(in oklab, var(--accent) 74%, transparent 26%);
  color: color-mix(in oklab, var(--background) 92%, white 8%);
}

.ui-control-primary:hover {
  background: color-mix(in oklab, var(--accent) 82%, black 18%);
  border-color: color-mix(in oklab, var(--accent) 84%, transparent 16%);
  box-shadow: var(--surface-inset-light), 0 14px 28px rgb(0 0 0 / 0.18);
}

.ui-control-secondary {
  background: color-mix(in oklab, var(--surface-level-0) 92%, transparent 8%);
}

.ui-control-ghost {
  background: transparent;
}

.ui-nav-item {
  min-height: 2.25rem;
  padding-inline: 0.82rem;
  font-size: 0.77rem;
  color: var(--muted);
  border-color: color-mix(in oklab, var(--surface-border) 72%, transparent 28%);
}

.ui-nav-item[data-active="true"] {
  color: var(--accent);
  border-color: color-mix(in oklab, var(--accent) 38%, var(--surface-border) 62%);
  background: color-mix(in oklab, var(--surface-level-1) 84%, transparent 16%);
  box-shadow: var(--surface-inset-light), 0 8px 18px rgb(0 0 0 / 0.08);
}

.dark .ui-nav-item[data-active="true"] {
  box-shadow: var(--surface-inset-light), 0 9px 20px rgb(0 0 0 / 0.28);
}

.ui-field {
  width: 100%;
  border-radius: var(--radius-soft);
  border: 1px solid color-mix(in oklab, var(--surface-border) 86%, transparent 14%);
  background: color-mix(in oklab, var(--surface-level-0) 92%, var(--background) 8%);
  color: var(--foreground);
  padding: 0.56rem 0.78rem;
  font-size: 0.9rem;
  line-height: 1.5;
  transition:
    border-color var(--motion-duration-fast) ease,
    box-shadow var(--motion-duration-fast) ease,
    background-color var(--motion-duration-fast) ease;
}

.ui-field:hover {
  border-color: color-mix(in oklab, var(--accent) 22%, var(--surface-border) 78%);
}

.ui-field:focus-visible {
  outline: none;
  border-color: color-mix(in oklab, var(--accent) 52%, var(--surface-border) 48%);
  box-shadow: var(--focus-ring);
}

.ui-field:disabled {
  cursor: not-allowed;
  opacity: 0.65;
}

.ui-field::placeholder {
  color: color-mix(in oklab, var(--muted) 82%, transparent 18%);
}

.ui-field-textarea {
  min-height: 6.8rem;
  resize: vertical;
}

.ui-toggle-group {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  gap: 0.28rem;
  height: 2.34rem;
  border-radius: var(--radius-control);
  border: 1px solid color-mix(in oklab, var(--surface-border) 86%, transparent 14%);
  padding: 0.2rem 0.26rem;
  background: color-mix(in oklab, var(--surface-level-0) 88%, transparent 12%);
  box-shadow: var(--surface-inset-light), 0 1px 8px rgb(0 0 0 / 0.04);
  transition:
    border-color var(--motion-duration-fast) ease,
    background-color var(--motion-duration-fast) ease,
    box-shadow var(--motion-duration-base) ease;
}

.ui-toggle-group::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(
    120deg,
    rgb(255 255 255 / 0.2) 0%,
    rgb(255 255 255 / 0.05) 45%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity var(--motion-duration-base) var(--motion-ease-standard);
}

.ui-toggle-group:hover {
  border-color: color-mix(in oklab, var(--accent) 34%, var(--surface-border) 66%);
  box-shadow: var(--surface-inset-light), 0 8px 18px rgb(0 0 0 / 0.09);
}

.ui-toggle-group:hover::after {
  opacity: 1;
}

.ui-segmented {
  position: relative;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: center;
  min-width: 6.6rem;
  height: 1.88rem;
  border-radius: var(--radius-control);
  padding: 2px;
  background: color-mix(in oklab, var(--surface-level-1) 82%, transparent 18%);
}

.ui-segmented-pill {
  position: absolute;
  top: 2px;
  left: 2px;
  width: calc((100% - 4px) / 2);
  height: calc(100% - 4px);
  border-radius: var(--radius-control);
  border: 1px solid color-mix(in oklab, var(--accent) 44%, transparent 56%);
  background: color-mix(in oklab, var(--accent) 82%, black 18%);
  transform: translateX(calc(var(--segment-index, 0) * 100%));
  transition: transform var(--motion-duration-base) var(--motion-ease-standard);
}

.ui-segmented-item,
.ui-toggle-item {
  display: inline-flex;
  position: relative;
  z-index: 1;
  height: 100%;
  min-width: 2.4rem;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-control);
  padding-inline: 0.62rem;
  border: 1px solid transparent;
  font-size: 0.72rem;
  font-weight: 580;
  line-height: 1;
  color: var(--muted);
  transition:
    border-color var(--motion-duration-fast) ease,
    background-color var(--motion-duration-fast) ease,
    color var(--motion-duration-fast) ease,
    transform var(--motion-duration-fast) var(--motion-ease-soft);
}

.ui-segmented-item:hover,
.ui-toggle-item:hover {
  color: var(--foreground);
}

.ui-segmented-item-active {
  color: color-mix(in oklab, var(--background) 95%, white 5%);
}

.ui-toggle-item-active {
  border-color: color-mix(in oklab, var(--accent) 44%, transparent 56%);
  background: color-mix(in oklab, var(--accent) 86%, black 14%);
  color: color-mix(in oklab, var(--background) 94%, white 6%);
}

.ui-segmented-item:focus-visible,
.ui-toggle-item:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.ui-card {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  border-radius: var(--radius-card);
  border: 1px solid color-mix(in oklab, var(--surface-border) 86%, transparent 14%);
  background: color-mix(in oklab, var(--surface-level-0) 94%, transparent 6%);
  box-shadow: var(--surface-inset-light), 0 2px 12px rgb(0 0 0 / 0.03);
}

.dark .ui-card {
  box-shadow: var(--surface-inset-light), 0 2px 12px rgb(0 0 0 / 0.22);
}

.ui-card-interactive {
  transition:
    transform var(--motion-duration-fast) var(--motion-ease-spring),
    border-color var(--motion-duration-base) ease,
    box-shadow var(--motion-duration-base) ease,
    background-color var(--motion-duration-base) ease;
}

.ui-card-interactive::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: linear-gradient(
    130deg,
    rgb(255 255 255 / 0.24) 0%,
    rgb(255 255 255 / 0.06) 42%,
    transparent 74%
  );
  opacity: 0;
  transition: opacity var(--motion-duration-base) var(--motion-ease-standard);
}

.dark .ui-card-interactive::after {
  background: linear-gradient(
    130deg,
    rgb(255 255 255 / 0.18) 0%,
    rgb(255 255 255 / 0.05) 42%,
    transparent 74%
  );
}

.ui-card-interactive:hover {
  transform: translate3d(0, var(--motion-lift-card), 0) scale(1.004);
  border-color: color-mix(in oklab, var(--accent) 36%, var(--surface-border) 64%);
  background: color-mix(in oklab, var(--surface-level-1) 88%, var(--surface-level-0) 12%);
  box-shadow: var(--surface-inset-light), 0 12px 24px rgb(0 0 0 / 0.1);
}

.ui-card-interactive:hover::after {
  opacity: 1;
}

.dark .ui-card-interactive:hover {
  box-shadow: 0 12px 28px rgb(0 0 0 / 0.34);
}

.ui-follow-icon {
  transition:
    transform var(--motion-duration-fast) var(--motion-ease-spring)
      var(--motion-delay-follow),
    color var(--motion-duration-micro) ease;
}

.ui-control:hover .ui-follow-icon,
.ui-control:focus-visible .ui-follow-icon,
.ui-card-interactive:hover .ui-follow-icon,
.ui-toggle-group:hover .ui-follow-icon {
  transform: translateX(1.9px);
}

.ambient-background {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

.ambient-base {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(
      132% 92% at 8% -10%,
      color-mix(in oklab, var(--accent) 11%, transparent 89%) 0%,
      transparent 60%
    ),
    radial-gradient(
      124% 88% at 102% -6%,
      color-mix(in oklab, var(--foreground) 6%, transparent 94%) 0%,
      transparent 63%
    ),
    linear-gradient(
      180deg,
      color-mix(in oklab, var(--background) 98%, white 2%) 0%,
      var(--background) 45%,
      color-mix(in oklab, var(--background) 92%, black 8%) 100%
    );
}

.ambient-blob {
  position: absolute;
  width: min(92vmax, 1220px);
  aspect-ratio: 1;
  border-radius: 999px;
  opacity: 0.17;
  will-change: transform;
}

.ambient-blob-a {
  top: -34%;
  left: -18%;
  background: radial-gradient(
    circle at 50% 50%,
    color-mix(in oklab, var(--accent) 18%, transparent 82%) 0%,
    transparent 68%
  );
  animation: ambient-drift-a 76s ease-in-out infinite alternate;
}

.ambient-blob-b {
  top: 22%;
  right: -30%;
  background: radial-gradient(
    circle at 50% 50%,
    color-mix(in oklab, var(--foreground) 11%, transparent 89%) 0%,
    transparent 67%
  );
  opacity: 0.14;
  animation: ambient-drift-b 64s ease-in-out infinite alternate;
}

.ambient-blob-c {
  bottom: -42%;
  left: 8%;
  background: radial-gradient(
    circle at 50% 50%,
    color-mix(in oklab, var(--accent) 14%, transparent 86%) 0%,
    transparent 72%
  );
  opacity: 0.16;
  animation: ambient-drift-c 88s ease-in-out infinite alternate;
}

.ambient-breath {
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(
      64% 56% at 30% 25%,
      color-mix(in oklab, var(--accent) 8%, transparent 92%) 0%,
      transparent 74%
    ),
    radial-gradient(
      62% 54% at 72% 74%,
      color-mix(in oklab, var(--foreground) 6%, transparent 94%) 0%,
      transparent 76%
    );
  opacity: 0.37;
  animation: ambient-breathe 70s ease-in-out infinite alternate;
}

.dark .ambient-breath {
  opacity: 0.48;
}

.ambient-starfield {
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.9;
}

.ambient-starfield-canvas {
  display: block;
  width: 100%;
  height: 100%;
}

.ambient-noise {
  position: absolute;
  inset: -24%;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='96' height='96' viewBox='0 0 96 96'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.92' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='96' height='96' filter='url(%23n)' opacity='0.24'/%3E%3C/svg%3E");
  background-size: 124px 124px;
  background-repeat: repeat;
  mix-blend-mode: soft-light;
  opacity: 0.08;
}

.dark .ambient-noise {
  opacity: 0.14;
}

@keyframes ambient-drift-a {
  0% {
    transform: translate3d(-2.4%, -1.1%, 0) scale(1);
  }
  50% {
    transform: translate3d(1.7%, 1.5%, 0) scale(1.026);
  }
  100% {
    transform: translate3d(0.5%, 3.6%, 0) scale(1.012);
  }
}

@keyframes ambient-drift-b {
  0% {
    transform: translate3d(0.8%, -0.8%, 0) scale(1);
  }
  50% {
    transform: translate3d(-3.6%, 2.4%, 0) scale(1.03);
  }
  100% {
    transform: translate3d(-1.3%, -1.6%, 0) scale(1.01);
  }
}

@keyframes ambient-drift-c {
  0% {
    transform: translate3d(0%, 2.2%, 0) scale(1);
  }
  50% {
    transform: translate3d(3.3%, -2.7%, 0) scale(1.034);
  }
  100% {
    transform: translate3d(-2.2%, -0.9%, 0) scale(1.012);
  }
}

@keyframes ambient-breathe {
  0% {
    transform: translate3d(0%, 0%, 0) scale(1);
    opacity: 0.34;
  }
  50% {
    transform: translate3d(1.8%, -1.4%, 0) scale(1.022);
    opacity: 0.44;
  }
  100% {
    transform: translate3d(-1.3%, 1.1%, 0) scale(1.012);
    opacity: 0.37;
  }
}

@media (pointer: fine) and (hover: hover) {
  html.custom-cursor-enabled,
  html.custom-cursor-enabled body,
  html.custom-cursor-enabled a,
  html.custom-cursor-enabled button,
  html.custom-cursor-enabled [role="button"],
  html.custom-cursor-enabled [data-cursor-interactive] {
    cursor: none !important;
  }
}

.cursor-core,
.cursor-halo {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  transform: translate3d(-100vw, -100vh, 0);
  opacity: 0;
  will-change: transform, opacity;
  z-index: 100;
}

.cursor-core {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in oklab, var(--foreground) 92%, white 8%);
}

.cursor-halo {
  width: 36px;
  height: 36px;
  border-radius: 999px;
  background: color-mix(in oklab, var(--accent) 22%, transparent 78%);
  border: 1px solid color-mix(in oklab, var(--foreground) 20%, transparent 80%);
}

.spotlight-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 20;
  opacity: var(--spotlight-opacity, 0);
  will-change: opacity;
}

.spotlight-glow {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(
    520px circle at var(--spotlight-x, 50%) var(--spotlight-y, 50%),
    color-mix(in oklab, var(--accent) 15%, transparent 85%) 0%,
    transparent 72%
  );
}

.dark .spotlight-glow {
  background-image:
    radial-gradient(
      560px circle at var(--spotlight-x, 50%) var(--spotlight-y, 50%),
      color-mix(in oklab, var(--accent) 12%, transparent 88%) 0%,
      transparent 74%
    ),
    radial-gradient(
      340px circle at var(--spotlight-x, 50%) var(--spotlight-y, 50%),
      color-mix(in oklab, white 9%, transparent 91%) 0%,
      transparent 68%
    );
}

.spotlight-noise {
  position: absolute;
  inset: -20%;
  background-image:
    repeating-radial-gradient(
      circle at 20% 20%,
      rgb(255 255 255 / 0.06) 0 1px,
      transparent 1px 3px
    ),
    repeating-radial-gradient(
      circle at 80% 65%,
      rgb(0 0 0 / 0.06) 0 1px,
      transparent 1px 4px
    ),
    repeating-linear-gradient(
      35deg,
      rgb(255 255 255 / 0.04) 0 1px,
      transparent 1px 3px
    );
  background-size: 120px 120px, 160px 160px, 100px 100px;
  mix-blend-mode: soft-light;
  opacity: 0.28;
}

.reading-hud-root {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 26;
  --reading-hud-progress: 0;
  --reading-hud-progress-left: 0px;
  --reading-hud-progress-width: 72px;
}

.reading-hud-progress {
  position: fixed;
  top: calc(5.25rem + env(safe-area-inset-top, 0px));
  left: var(--reading-hud-progress-left);
  width: max(4px, var(--reading-hud-progress-width));
  height: 3px;
  border-radius: 999px;
  border: 1px solid color-mix(in oklab, var(--foreground) 16%, transparent 84%);
  background: color-mix(in oklab, var(--surface) 88%, transparent 12%);
  overflow: hidden;
}

.reading-hud-progress-fill {
  position: absolute;
  inset: 0;
  transform-origin: left center;
  transform: scaleX(var(--reading-hud-progress));
  background: color-mix(in oklab, var(--accent) 76%, var(--foreground) 24%);
}

.reading-hud-marker {
  position: fixed;
  top: 0;
  left: 0;
  opacity: 0;
  transform: translate3d(-120vw, -120vh, 0) translate(-50%, -50%);
  will-change: transform, opacity;
}

.reading-hud-marker-rail {
  position: absolute;
  left: 0;
  top: 50%;
  width: 2px;
  height: 24px;
  border-radius: 999px;
  transform: translate(-50%, -50%);
  background: color-mix(in oklab, var(--foreground) 20%, transparent 80%);
}

.reading-hud-marker-dot {
  position: absolute;
  left: 0;
  top: 50%;
  width: 7px;
  height: 7px;
  border-radius: 999px;
  transform: translate(-50%, -50%);
  background: color-mix(in oklab, var(--foreground) 95%, white 5%);
  box-shadow:
    0 0 0 2px color-mix(in oklab, var(--background) 86%, transparent 14%),
    0 3px 10px rgb(0 0 0 / 0.22);
}

@media (max-width: 768px) {
  .reading-hud-progress {
    top: calc(4.55rem + env(safe-area-inset-top, 0px));
  }

  .reading-hud-marker-rail {
    height: 20px;
  }

  .reading-hud-marker-dot {
    width: 6px;
    height: 6px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ambient-blob {
    animation: none;
  }

  .ambient-breath {
    animation: none;
  }

  .site-main {
    transition: none;
  }

  .ui-control,
  .ui-card-interactive,
  .ui-toggle-item,
  .ui-segmented-item,
  .ui-segmented-pill,
  .ui-field,
  .reading-hud-progress-fill,
  .ui-follow-icon {
    transition: none;
  }

  .ui-control:hover,
  .ui-card-interactive:hover {
    transform: none;
  }

  .ui-control:active {
    transform: none;
  }

  .spotlight-layer {
    display: none;
  }
}
