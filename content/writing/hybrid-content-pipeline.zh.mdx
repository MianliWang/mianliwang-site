---
title: "混合内容管线"
date: "2026-02-18"
summary: "写作内容迁移到 mdx 文件，项目和工具继续以 messages 为主，并支持可选 overlay。"
tags:
  - 架构
  - 内容
  - obsidian
eyebrow: "工程笔记"
---

这篇文章用于演示混合模式：写作用文件维护，项目和工具卡片仍由本地化 json 驱动，交互数据继续放在 Upstash 或数据库侧。

## 为什么采用这种拆分

写作属于长文本，适合 markdown/Obsidian 工作流。项目和工具是结构化目录数据，继续放在 messages 更直接、成本更低。

这种拆分可以保持路由稳定，避免大规模重构。

## 回退策略

当 `content/writing` 中存在对应 slug 时，页面优先读取 mdx；若文件缺失，则自动回退到 `messages/*.json`，确保现有页面不被中断。

这样上线和回滚都更可控。
